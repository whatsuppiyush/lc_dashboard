<!DOCTYPE html>
<html>
<head>
    <title>Auto Tab Opener</title>
</head>
<body>

<script>
    // Array of websites to open
    (async function(){
        function setTimeoutPromise(windowToClose, seconds) {
        return new Promise(resolve => {
            setTimeout(()=> {
                console.log('resolve called', seconds);
                console.log(windowToClose);
                windowToClose.close();
                resolve();
            }, seconds)
            });
        }
        let websites  = [
            {
                url: "https://prod-apnortheast-a.online.tableau.com/#/site/limechat/views/BOTFlowsTrackingDB/ConversionandAutomationMetrics?:iid=1",
                seconds: 150000
            },

            {
                url: "https://prod-apnortheast-a.online.tableau.com/#/site/limechat/views/BOTFlowsTrackingDB/BOTFlowsTrackingV2?:iid=1",
                seconds: 150000
            },

            {
                url: "https://prod-apnortheast-a.online.tableau.com/#/site/limechat/views/BOTFlowsTrackingDB/CSATFlow?:iid=1",
                seconds: 150000
            },

            { 
                url: "https://prod-apnortheast-a.online.tableau.com/#/site/limechat/views/BOTFlowsTrackingDB/AgentHandoff?:iid=1",
                seconds: 150000
            },

            {
                url: "https://prod-apnortheast-a.online.tableau.com/#/site/limechat/views/BOTFlowsTrackingDB/UsersLastAction?:iid=1",
                seconds: 150000
            },

            {
                url: "https://prod-apnortheast-a.online.tableau.com/#/site/limechat/views/CompanyWideDB/1_CompanyKPI?:iid=1",
                seconds: 150000
            },

            {
                url: "https://prod-apnortheast-a.online.tableau.com/#/site/limechat/views/CompanyWideDB/2_CampaignBreakdown?:iid=1",
                seconds: 150000
            },

            {
                url: "https://prod-apnortheast-a.online.tableau.com/#/site/limechat/views/CompanyWideDB/2_BuyingDropoffChart?:iid=1",
                seconds: 150000
            },

            {
                url: "https://prod-apnortheast-a.online.tableau.com/#/site/limechat/views/CompanyWideDB/3_BuyingDropoffTable?:iid=1",
                seconds: 150000
            },

            {
                url: "https://prod-apnortheast-a.online.tableau.com/#/site/limechat/views/CompanyWideDB/2_RevenueBreakdown?:iid=1",
                seconds: 150000
            }
        ];

        let i = 0;
        while (i < websites.length) {
            console.log(websites[i]);
            
            await setTimeoutPromise(window.open(websites[i].url, "_blank"), websites[i].seconds);
            i++;
            if (i >= websites.length) {
                i = 0;
            }
        }
    }())

    // Call the function to start opening and closing tabs
    // openCloseTabs();
</script>

</body>
</html>
